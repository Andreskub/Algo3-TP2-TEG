@startuml DiagramaDeSecuenciaUnPaisAtacaAOtro

Participant Jugador
Participant Tablero
Participant Batalla
Participant Pais as "paisMio: Pais"
Participant PaisEnemigo as "paisEnemigo: Pais"
Participant Ejercito as "ejercito: Ejercito"
Participant FichaEnemigo as "ejercitoEnemigo: Ejercito"

activate Tablero
Jugador->Tablero: atacarConA(colorJugador, paisMio, paisEnemigo)
Tablero -> Tablero: buscarPais(PaisMio)
activate Tablero
Tablero --> Tablero: paisMio
deactivate Tablero
Tablero -> Tablero: buscarPais(paisEnemigo)
activate Tablero
Tablero --> Tablero: paisEnemigo
deactivate Tablero
Tablero -> Batalla: atacarConA(colorJugador, paisMio, paisEnemigo)
activate Batalla
Batalla -> Batalla: esAtaqueValido()
activate Batalla
deactivate Tablero
Batalla -> Pais: esDeJugador(colorJugador)
activate Pais
Pais --> Batalla: true: Boolean
deactivate Pais
Batalla -> Pais: esAdyacente(paisEnemigo)
activate Pais
Pais --> Batalla: true: Boolean
deactivate Pais
Batalla -> PaisEnemigo: esDeJugador(colorJugador)
activate PaisEnemigo
PaisEnemigo --> Batalla: false: Boolean
deactivate PaisEnemigo
Batalla --> Batalla: true:Boolean
deactivate Batalla
Batalla -> Pais: dadosAtacar()
Pais -> Ejercito: dadosAtacar()
Ejercito --> Pais: dadosAtacante:Dados
Pais --> Batalla: dadosAtacante:Dados
Batalla -> PaisEnemigo: dadosDefender()
PaisEnemigo -> EjercitoEnemigo: dadosDefender()
EjercitoEnemigo --> PaisEnemigo: dadosDefensor:Dados
PaisEnemigo --> Batalla: dadosDefensor:Dados
Batalla -> Dados: compararDados(dadosAtacante: Dados)
Dados --> Batalla: tupla
Batalla -> Pais: pederFichas(colorJugador, num)
Batalla -> PaisEnemigo: perderFichas(colorJugador, num)

@enduml